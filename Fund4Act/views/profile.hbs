{{> header}}

    <style>
      #profile-header, #profile-header div { display: flex; flex-wrap:wrap; align-items: center; justify-content: space-between; gap: 1rem; }
      #profile-header div a { display: block; padding-right: 1rem; }
      #profile-header, #profile-header img, #profile-actions, #profile-image-section { margin: 1rem; }
      #profile-header img { width: 3rem; }
        .button, button{
    background: #30732F;
    text-decoration: none;
    color: #fff;
    border-radius: 5px;
    padding: .75rem 1rem;
    text-align: center;
    font-size: 16px;
    border-width: 2px;
    border-color: #30732F;
    margin: 0.5rem 0;
    cursor:pointer;
    border-style: solid;
  }

  .button-secondary{
    background-color: #fff;
    border-color: #30732F;
    color: var(--text-color);
  }

  .button:hover, .button:active {
  text-decoration: none;
  color: #fff;
  }

  .button:visited{
    color: #fff;
  }

  .button-secondary:hover, .button-secondary:active {
    text-decoration: none;
    color: var(--text-color);
  }

  .button-secondary:visited{
    color: var(--text-color);
  }

  #profile-image-container{
    display: flex;
    gap:1rem;
    align-items: center;
  }

  .profile-image{
    border-radius: 100%;
    height:4rem;
    width:4rem;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  a , a:visited{color: var(--text-color)}

  #action-creator-button{margin:2rem; width: 20rem;}

  main{display: flex; flex-direction: column; margin: 1rem; }
</style>

{{#if profile.display_name}}
  {{#if profile.email}}
    <section id="profile-header" aria-label="profile">
      <h1>{{profile.display_name}}{{#unless profile.verified}} (<a href="/profile/verify">Unverified</a>){{/unless}}</h1>
      <div>
        <a class="button" href="/profile/{{profile.slug}}">View Public Profile</a>
        <a class="button button-secondary" href="/logout">Log Out</a>
      </div>
    </section>
    <section id="profile-image-section" aria-label="profile">
      <h3>Profile Image</h3>
      <div id="profile-image-container">
        {{#if profile.logo_url}}
          <img class="profile-image" alt="profile image" src="/images/upload/{{profile.id}}/profile_image.webp"/>
        {{else}}
          <img class="profile-image" alt="profile image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATdSURBVHgB1ZpNTBxlGMf/7ywNmECy0MQu68GtTWgTlQ4Bo2DU4SCeEDwpTUzpQeqNj/XiieXSeODzWC6CB/FIoYf6kbhGY02UOMR6kETdegCqCWAg0TSw0+d52V12YWd35p1ZdvtLNjsfz7Dvn/fj+XhHwCf0oUsRaGcMaOIyIAxYCNLl9CdNQn6EZSJprSIZiJvTZgI+IOABfUgPQksOQoh+Oo1ADRa2iH1txosoJSH60HMGAoFROjTgL3M4EGMqglwJoR6IIGBN0WEvSotrQQGnhnq0eRAaPuNDlB6dfqs31P7kv5t3/zadPOBIiD7SPEXzIEaHNTg9gvSbvaGXzwU3v3/weTHjgkNLTuYq62tagU6jF+wRMLEvOmmo7dib2OBVRGN9I9outGXOd//bxcrvK9j9fxdKFBFTZfugoojWZ1ox0HUdrRda895fW1/DxK1xrPyxAldwW7hNQEu+23nniJwTEK5XJhYQezuGcEPY1uZs3Vl0v9BNPbSHe3/9ApeE7ObMCSH6yPP9ENpHcEl3Wzeib0Yd23dc6pBDbWN7A+4QL4Xaz9Fq9uCH7Kta9on0E0IbhQLcG6fxjESIUdnWLHKEkLNjERG4xCBHz5PbLTyPmsJNUCCYcswZMkJSCvuhgIqINOGGp6BIL7XZSJ8c9chhbyhRV1MHVWpraqFMVpulEC+9UWYM6e+Q7hGRHMLjinbY9kMhmuhBmdjYWocnhLjKX1pqWEXgAeWwwx8iLdGWpzVoBwY8skdeupxY1n6nBkuUN7L1AyF07bBY4A0ONVTgiHhtYw3eEa/xZI/AI+vb60pi4r/GpRgfCPoihFn47lO45faPy/CJoAafkEmTi/8uL7uucxJ7/BPCIiaXJhzbz345Cz9hITvwieWflmUGWIy19d+krZ/4KoSZWBoveJ97LjrnPAFzSEKjpN43IRzON4UvFsz69kgIFyUU8xA7EkIfbp4mXzIIRTiE73vliszD3eYlPAzj9+I0zJYUUt5srBmRytE/hkvC9WG81zUgc3U/4Dkz+8VNNUGWuCZS9dw/nT6T7oEBElEKlAQdiPOyQKdHL7OQSCHbtIC+V/s8ZYRO4AVh4dsF6WSL+iYLCXNy9bwsB1GtqF5uztgw8Pp13Hj3BjoudqC6qhqlpvpMtSxMvKF38bDB/X8SeLj/ML+xsOapNHTnsEc4XQxY28dtuGoYe2fMU3HBDzYoluMlO6+PomHF2w+Z2i8NLy5HGulz41kD4/3OPfVpcGWq77iYOXNi9RofHIUoQoxlW0R7PkClcfP9Y2HNwVGbM0LMcTNOX4vp83IPp3zUPZGzyMxl72jlBo0HYhg+hywlgVaq7N5gcoRIhVauQWVycn/xRBhvTprT7PJRsYgZauPciat25lO3J3/e2t2qqMJEQ22DOdw9knejx3bHav6rTzrJt/CSXCliTJoXnXY3i2+GVoYYKUJpMzQb2mOneaMe6nuD5sSEWbQ27WifnWOZUHvjfXDPiJyXZErJDjnpD0lEzImx4zcfNu9umqEXG29BszjALPVQW6Sh9BatTnecPqD4Ug3nMMkYPX4V/hLnUCkVZbjC62tOLGiInGgP/aUI1EhQ4+exj+lCk7kYnoRkI0VpFD2LJA07WU+OIDdZ2zn6WN/A0kwk4duLZ48AwZW9nCitJWkAAAAASUVORK5CYII="/>
        {{/if}}
        <a href="/profile/action-creator-image">Update Profile Image</a>
      </div>
    </section>
    <section id="profile-actions" aria-label="actions">
      <h3>Your Actions</h3>
      <a class="button" href="{{#if profile.verified}}/action/create{{else}}/profile/verify{{/if}}">Create an Action</a>
      {{#if actions}}
        <style>
          .action-row{
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            border-bottom: 1px solid var(--text-color);
            align-items: center;
          }

          .action-row a {
            margin: 1rem;
          }

          .action-links{
            display: flex;
          }

          #actions-list{
            margin-top: 2rem;
            margin-bottom: 2rem;
          }

          @media (prefers-color-scheme: dark) {
            .action-row { border-color: #fff; }
            .button-secondary { background: #000; }
          }
        </style>

        <div id="actions-list">
          {{#each actions}}
            {{> profile-action}}
          {{/each}}
        </div>
      {{/if}}
    </section>
  {{else}}
    <main class="wide">
      <section id="profile-header">
        <a id="action-creator-button" class="button" href="/profile/action-creator-prereq/">Register as an action creator</a>
        <a class="button button-secondary" href="/logout">Log Out</a>
      </section>
    </main>
  {{/if}}
{{else}}
  <link rel="stylesheet" href="/styles/normform.min.css"/>
  <main>
    <h1>Profile Set Up</h1>
    <form method="post" class="normform">
      <label for="name">Set your display name (You may use your organisation name)</label>
      <input type="text" id="name" name="name" required>

      <input type="checkbox" id="terms-conditions" name="terms-conditions" value="terms-conditions" required>
      <label for="terms-conditions">Do you agree to our <a href="/resource/terms-and-conditions/profile" target="_blank">terms and conditions</a>?</label>

      <input type="submit" value="Save">
    </form>
  </main>
{{/if}}

